'use strict';(function(J){function C(e){e()}function D(e){e(this)}function F(){if(v){do q=!1,A.shift()();while(--v)}q=!1}function y(e,k,c){this.then=e;this.error=k;this["finally"]=c}function r(e){function k(a){0===f&&(E(a)?a.then(k,c):(g=a,f=2,null!==d&&("function"===typeof d?d(a):d.forEach(D,a),d=null),b=null,null!==l&&("function"===typeof l?l():l.forEach(C),l=null)))}function c(a){0===f&&(g=a,f=1,null!==b&&("function"===typeof b?b(a):b.forEach(D,a),b=null),d=null,null!==l&&("function"===typeof l?
l():l.forEach(C),l=null))}var g,f=0,d=null,b=null,l=null,h=new y(function(a,m){if(0===f)return G(function(t,z){var w="function"===typeof a?function(){t(a(g))}:t,H="function"===typeof m?function(){z(m(g))}:z;null!==d?"function"===typeof d?d=[d,w]:d.push(w):d=w;null!==b?"function"===typeof b?b=[b,H]:b.push(H):b=H});try{return 2===f?"function"===typeof a?B(a(g)):u:"function"===typeof m?p(m(g)):u}catch(t){return p(t)}},function(a){if(0===f)return G(function(m){null!==b?"function"===typeof b?b=[b,function(){m(a(g))}]:
b.push(function(){m(a(g))}):b=function(){m(a(g))};null!==d?"function"===typeof d?d=[d,m]:d.push(m):d=m});if(2===f)return B(g);try{return"function"===typeof a?B(a(g)):u}catch(m){return p(m)}},function(a){if(0===f)null!==l?"function"===typeof l?l=[l,a]:l.push(a):l=a;else try{a()}catch(m){return p(m)}return h});if(!0===q)A.push(function(){try{e(k,c)}catch(a){c(a)}}),v=v+1|0;else{n=n+1|0;if(q=128===n)try{e(k,c)}catch(a){c(a)}else{try{e(k,c)}catch(a){c(a)}!0===q&&1===n&&F()}n=n-1|0}return h}function G(e){function k(h){0===
g&&(c=h,g=1,null!==d&&("function"===typeof d?d(h):d.forEach(D,h),d=null),f=null,null!==b&&("function"===typeof b?b():b.forEach(C),b=null))}var c,g=0,f=null,d=null,b=null,l=new y(function(h,a){if(0===g)return r(function(m,t){var z="function"===typeof h?function(){m(h(c))}:m,w="function"===typeof a?function(){t(a(c))}:t;null!==f?"function"===typeof f?f=[f,z]:f.push(z):f=z;null!==d?"function"===typeof d?d=[d,w]:d.push(w):d=w});try{return 2===g?"function"===typeof h?x(h(c)):u:"function"===typeof a?p(a(c)):
u}catch(m){return p(m)}},function(h){if(0===g)return r(function(a){null!==d?"function"===typeof d?d=[d,function(){a(h(c))}]:d.push(function(){a(h(c))}):d=function(){a(h(c))};null!==f?"function"===typeof f?f=[f,a]:f.push(a):f=a});if(2===g)return x(c);try{return"function"===typeof h?x(h(c)):u}catch(a){return p(a)}},function(h){0===g?null!==b?"function"===typeof b?b=[b,h]:b.push(h):b=h:h();return l});try{e(function m(a){0===g&&(E(a)?a.then(m,k):(c=a,g=2,null!==f&&("function"===typeof f?f(a):f.forEach(D,
a),f=null),null!==b&&("function"===typeof b?b():b.forEach(C),b=null),d=null))},k)}catch(h){k(h)}return l}function x(e){if("object"===typeof e&&null!==e&&"function"===typeof e.then)return e;var k=new y(function(c){if("function"!==typeof c)return k;if(!0===q)return G(function(f,d){A.push(function(){try{f(c(e))}catch(b){d(b)}});v=v+1|0});n=n+1|0;var g=null;try{(q=128===n)?A.push(function(){c(e)}):(g=c(e),!0===q&&1===n&&F())}catch(f){return p(f)}finally{n=n-1|0}return B(g)},function(){return k},function(c){if("function"===
typeof c)if(!0===q)A.push(c),v=v+1|0;else{n=n+1|0;try{(q=128===n)?(c(),q=!1):(c(),!0===q&&1===n&&F())}catch(g){return p(g)}finally{n=n-1|0}}return k});return k}function B(e){if("object"===typeof e&&null!==e&&"function"===typeof e.then)return e;var k=new y(function(c){try{return"function"===typeof c?x(c(e)):u}catch(g){return p(g)}},function(){return k},function(c){try{"function"===typeof c&&c()}catch(g){return p(g)}return k});return k}function p(e){return new y(function(k,c){try{return"function"===
typeof c?x(c(e)):u}catch(g){return p(g)}},function(k){try{return"function"===typeof k?x(k(e)):u}catch(c){return p(c)}},function(k){try{"function"===typeof k&&k()}catch(c){return p(c)}return curObj})}const A=[],E=r.isPromise=function(e){return"object"===typeof e&&null!==e&&"function"===typeof e.then};var n=0,q=!1,v=0,I="undefined"!==typeof Symbol&&Symbol.toStringTag,u=x();"symbol"===typeof I&&(y.prototype[I]="Promise");r.resolve=B;r.reject=p;r.race=function(e){return r(function(k,c){function g(h){d&&
(d=0,k(h))}function f(h){d&&(d=0,c(h))}for(var d=1,b=0,l;b<e.length&&d;b=b+1|0)E(l=e[b])?l.then(g,f):g(l)})};r.all=function(e){return r(function(k,c){function g(m){a.then(function(t){l[m|0]=t;b=b-1|0;0===b&&k(l)},function(t){0<b&&(b=-1,c(t))})}for(var f=null,d=e.length|0,b=d,l=[],h=0,a;h<d;h=h+1|0)E(a=e[h])?(l[h]=f,g(h)):(b=b-1|0,l[h]=f=a);0===b&&k(l)})};"undefined"!==typeof module?module.exports=r:J.SPromise=r})("undefined"===typeof self?this||global:self);//AnonyCo
